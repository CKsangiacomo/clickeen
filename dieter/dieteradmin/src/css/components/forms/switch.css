.diet-switch {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3, 0.75rem);
  cursor: pointer;
}

.diet-switch__input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.diet-switch__track {
  --switch-width: 2.5rem;
  --switch-height: 1.4rem;
  inline-size: var(--switch-width);
  block-size: var(--switch-height);
  border-radius: 999px;
  background: color-mix(in oklab, var(--role-border), transparent 45%);
  position: relative;
  transition: background 160ms ease;
}

.diet-switch__thumb {
  position: absolute;
  inset-block-start: 50%;
  inset-inline-start: calc(var(--switch-height) / 10);
  inline-size: calc(var(--switch-height) - var(--space-1, 0.25rem));
  block-size: calc(var(--switch-height) - var(--space-1, 0.25rem));
  border-radius: 999px;
  background: var(--color-bg);
  box-shadow: 0 2px 4px rgba(14, 16, 24, 0.2);
  transform: translate(0, -50%);
  transition: transform 160ms ease;
}

.diet-switch__input:checked + .diet-switch__track {
  background: var(--color-accent);
}

.diet-switch__input:checked + .diet-switch__track .diet-switch__thumb {
  transform: translate(calc(var(--switch-width) - var(--switch-height)), -50%);
}

.diet-switch__input:focus-visible + .diet-switch__track {
  outline: none;
  box-shadow:
    0 0 0 var(--focus-ring-offset, 2px) var(--color-bg),
    0 0 0 calc(var(--focus-ring-offset, 2px) + var(--focus-ring-width, 2px)) var(--focus-ring-color, var(--color-accent));
}

.diet-switch[data-size='sm'] .diet-switch__track {
  --switch-width: 2rem;
  --switch-height: 1.125rem;
}

.diet-switch[data-size='lg'] .diet-switch__track {
  --switch-width: 3rem;
  --switch-height: 1.6rem;
}

.diet-switch[data-state='disabled'] {
  opacity: 0.5;
  cursor: not-allowed;
}

.diet-switch__label {
  font: 500 var(--fs-14, 0.875rem)/1.4 var(--font-ui);
}

.diet-switch__helper {
  font: 400 var(--fs-12, 0.75rem)/1.4 var(--font-ui);
  color: color-mix(in oklab, var(--color-text), transparent 40%);
}

@media (prefers-reduced-motion: reduce) {
  .diet-switch__track,
  .diet-switch__thumb {
    transition-duration: 0.001ms;
  }
}
