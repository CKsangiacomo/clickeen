/* Dieter Menu Actions — list-style action button for popovers/menus
   Contract:
   - Root: .diet-btn-menuactions
   - Size: data-size="sm|md" (defaults to sm)
   - Variant: data-variant="neutral|primary" (defaults to neutral)
   - Children: .diet-btn-menuactions__label (.label utility recommended), .diet-btn-menuactions__icon
*/

.diet-btn-menuactions {
  --ma-bg: transparent;
  --ma-color: var(--color-text);
  --ma-hover-bg: color-mix(in oklab, var(--color-text), transparent 92%);
  --ma-active-bg: color-mix(in oklab, var(--color-text), transparent 75%);
  --ma-radius: var(--control-radius-sm, 0.3125rem);
  --ma-height: var(--control-size-sm, 1.25rem);
  --ma-pad-inline: 0; /* no side padding by default */
  --ma-gap: var(--control-inline-gap-sm, 0.25rem);
  --ma-icon-box: var(--icon-size-16, 1rem);
  --ma-icon-glyph: calc(var(--ma-icon-box) * var(--icon-glyph-ratio-16, var(--icon-glyph-ratio, 1)));

  display: inline-flex;
  align-items: center;
  justify-content: space-between; /* text left, icon right */
  inline-size: 100%;
  min-height: var(--ma-height);
  padding-inline: var(--ma-pad-inline);
  padding-block: 0;
  border: 0;
  border-radius: var(--ma-radius);
  background: var(--ma-bg);
  color: var(--ma-color);
  text-decoration: none;
  cursor: pointer;
  transition: background-color 150ms ease, color 150ms ease;
}

.diet-btn-menuactions:hover { background: var(--ma-hover-bg); }
.diet-btn-menuactions:active { background: var(--ma-active-bg); }
.diet-btn-menuactions[aria-disabled="true"],
.diet-btn-menuactions:disabled { opacity: 0.48; cursor: not-allowed; }

/* Size variants to mirror diet-btn-ictxt */
.diet-btn-menuactions[data-size="xs"] {
  --ma-height: var(--control-size-xs, 1rem);
  --ma-radius: var(--control-radius-xs, 0.25rem);
  --ma-gap: var(--control-inline-gap-xs, 0.125rem);
  --ma-icon-box: var(--icon-size-12, 0.75rem);
  --ma-icon-glyph: calc(var(--ma-icon-box) * var(--icon-glyph-ratio-12, var(--icon-glyph-ratio, 1))); /* match ictxt xs */
  font: 300 var(--fs-11)/var(--lh-tight) var(--font-ui); /* label-small */
}

.diet-btn-menuactions[data-size="sm"] {
  --ma-height: var(--control-size-sm, 1.25rem);
  --ma-radius: var(--control-radius-sm, 0.3125rem);
  --ma-gap: var(--control-inline-gap-xs, 0.125rem);
  --ma-icon-box: var(--icon-size-16, 1rem);
  --ma-icon-glyph: calc(var(--ma-icon-box) * var(--icon-glyph-ratio-16, var(--icon-glyph-ratio, 1)));
  font: 300 var(--fs-12)/var(--lh-tight) var(--font-ui); /* label */
}

.diet-btn-menuactions[data-size="md"] {
  --ma-height: var(--control-size-md, 1.5rem);
  --ma-radius: var(--control-radius-md, 0.375rem);
  --ma-gap: var(--control-inline-gap-sm, 0.25rem);
  --ma-icon-box: var(--icon-size-20, 1.25rem);
  --ma-icon-glyph: calc(var(--ma-icon-box) * var(--icon-glyph-ratio-20, var(--icon-glyph-ratio, 1)));
  font: 300 var(--fs-13)/var(--lh-tight) var(--font-ui); /* label-large */
}

.diet-btn-menuactions__label {
  flex: 1 1 auto;
  text-align: start;
  padding-inline: 0; /* no side padding */
}

.diet-btn-menuactions__icon {
  inline-size: var(--ma-icon-box);
  block-size: var(--ma-icon-box);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-inline-start: var(--ma-gap);
  color: currentColor;
  flex: none;
}

.diet-btn-menuactions__icon svg {
  inline-size: var(--ma-icon-glyph);
  block-size: var(--ma-icon-glyph);
  display: block;
}

/* AI menu actions variant — purple icon */
.diet-btn-aimenuactions .diet-btn-menuactions__icon { color: var(--color-system-purple); }
.diet-btn-menuactions[data-variant="aimenuactions"] .diet-btn-menuactions__icon { color: var(--color-system-purple); }
