---
type Props = {
  title?: string;
  items: { question: string; answer: string }[];
};

const { title = 'FAQ', items } = Astro.props;
---

<section class="ck-canvas">
  <div class="ck-inline ck-stack">
    <div class="heading-3">{title}</div>
    <div class="ck-stack" style="gap: var(--space-3);">
      {items.map((item) => (
        <details class="ck-faqItem">
          <summary class="ck-faqSummary">
            <span class="label-l">{item.question}</span>
            <span aria-hidden="true" class="ck-faqIcon" />
          </summary>
          <div class="ck-faqBody body-s">{item.answer}</div>
        </details>
      ))}
    </div>
  </div>
</section>

<style>
  .ck-faqItem {
    border-radius: var(--control-radius-3xl);
    border: 1px solid color-mix(in oklab, var(--color-system-black), transparent 88%);
    background: var(--color-system-white);
    box-shadow: var(--shadow-floating);
    overflow: hidden;
  }

  .ck-faqSummary {
    list-style: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
    padding: var(--space-5) var(--space-6);
    cursor: pointer;
  }
  .ck-faqSummary::-webkit-details-marker { display: none; }

  .ck-faqIcon {
    width: 28px;
    height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    border: 1px solid color-mix(in oklab, var(--color-system-black), transparent 85%);
    color: color-mix(in oklab, var(--color-system-black), transparent 35%);
    font: 700 var(--fs-14)/1 var(--font-ui);
    flex: 0 0 auto;
  }

  .ck-faqIcon::before { content: "+"; }
  details[open] .ck-faqIcon::before { content: "â€“"; }

  .ck-faqBody {
    padding: 0 var(--space-6) var(--space-6) var(--space-6);
    color: color-mix(in oklab, var(--color-system-black), transparent 45%);
  }
</style>
